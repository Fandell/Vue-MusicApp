webpackJsonp([8],{Wdqz:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var i=e("Dd8w"),a=e.n(i),l=e("qwAB"),n=e("y/jF"),r=e("ZV4u"),c=e("NYxO"),o=e("F4+m"),h=e("PvFA"),u={mixins:[o.a],data:function(){return{listDetail:[],scrollY:0,node:null,headerTitle:"歌手"}},created:function(){this.topList.id||this.$router.push("/rank"),this._normalizeSongs(this.topList.tracks),this.probeType=3,this.listenScroll=!0},mounted:function(){this.imageHeight=this.$refs.bgImage.clientHeight,this.minTranslateY=44-this.imageHeight},computed:a()({headerTitleTouchDown:function(){return this.topList.name},bgStyle:function(){return"background-image: url("+this.topList.coverImgUrl+")"},title:function(){return this.headerTitleTouchDown},updateTime:function(){var t=new Date(this.topList.updateTime);return"最近更新:"+(t.getMonth()+1)+"月"+t.getDate()+"日"}},Object(c.c)(["topList"])),methods:a()({handlePlaylist:function(t){var s=t.length>0?"60px":"";this.$refs.list.$el.style.bottom=s,this.$refs.list.refresh()},_normalizeSongs:function(t){if(this.topList.id){var s=[];t.forEach(function(t){s.push(Object(h.d)(t))}),this.listDetail=s}else this.$router.push("/rank")},selectItem:function(t,s){this.selectPlay({list:this.listDetail,index:s})},scroll:function(t){this.scrollY=t.y},back:function(){this.$router.back()},sequence:function(){var t=this.listDetail;this.sequencePlay({list:t})}},Object(c.b)(["selectPlay","sequencePlay"])),watch:{scrollY:function(t){var s=Math.abs(t/this.imageHeight);t<this.minTranslateY+44-20?this.headerTitle=this.headerTitleTouchDown:this.headerTitle="歌手",this.$refs.header.style.background=t<0?"rgba(212, 68, 57, "+s+")":"rgba(212, 68, 57, 0)"}},components:{SongList:r.a,Scroll:l.a,Loading:n.a}},d={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("transition",{attrs:{name:"slide"}},[e("div",{staticClass:"music-list"},[e("div",{ref:"header",staticClass:"header"},[e("div",{staticClass:"back",on:{click:t.back}},[e("i",{staticClass:"fa fa-angle-left"})]),t._v(" "),e("div",{staticClass:"text"},[e("h1",{staticClass:"title"},[t._v(t._s(t.headerTitle))])])]),t._v(" "),e("scroll",{ref:"list",staticClass:"list",attrs:{"probe-type":t.probeType,"listen-scroll":t.listenScroll},on:{scroll:t.scroll}},[e("div",{staticClass:"music-list-wrapper"},[e("div",{ref:"bgImage",staticClass:"bg-image",style:t.bgStyle},[e("div",{staticClass:"filter"}),t._v(" "),e("div",{staticClass:"text"},[e("h2",{staticClass:"list-title"},[t._v("\r\n              "+t._s(t.title)+"\r\n            ")]),t._v(" "),e("p",{staticClass:"update"},[t._v(t._s(t.updateTime))])])]),t._v(" "),e("div",{staticClass:"song-list-wrapper"},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.listDetail.length,expression:"listDetail.length"}],staticClass:"sequence-play",on:{click:t.sequence}},[e("i",{staticClass:"iconfont icon-bofangicon"}),t._v(" "),e("span",{staticClass:"text"},[t._v("播放全部")]),t._v(" "),e("span",{staticClass:"count"},[t._v("(共"+t._s(t.listDetail.length)+"首)")])]),t._v(" "),e("song-list",{attrs:{songs:t.listDetail},on:{select:t.selectItem}})],1)]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.listDetail.length,expression:"!listDetail.length"}],staticClass:"loading-content"},[e("loading")],1)])],1)])},staticRenderFns:[]};var v=e("VU/8")(u,d,!1,function(t){e("Ws1a")},"data-v-42ab73b2",null);s.default=v.exports},Ws1a:function(t,s){}});
//# sourceMappingURL=8.7a4ad2d2d26bd11bce67.js.map